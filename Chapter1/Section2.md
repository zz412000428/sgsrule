# 技能的要素

## 技能的分类
技能按照是否有发动时机这个要素可分为**状态类技能（没有发动时机这个要素）**和**触发类技能（有发动时机这个要素）**。

## 状态类技能
目前的技能中，用起来最方便的自然是状态类技能，因为它并不需要角色使用就能产生影响。

## 触发类技能
**触发类技能**是需要角色使用才能产生效果的，它**一般由六个要素组成：时机、条件、发动角色、目标、消耗（单个操作）、效果（由至少一个触发类效果和任意数量的状态类效果组成，每一个操作即为一个触发类效果）。**。

## 使用有消耗的触发类技能流程
一个技能在发动时机若满足~~发动条件~~，则发动者*声明*此技能的技能名，并选择发动此技能的所有~~目标~~，并由相应的角色开始执行发动此技能的所有消耗，所有消耗执行完毕即其发动了此技能，须按照此技能描述的顺序对此技能的各个效果依次进行处理。

> #### 凌天翼按
> 该角色开始执行消耗的同时开始技能的发动，执行消耗完毕的同时结束技能的发动。

## 使用无消耗的触发类技能流程
一个技能在发动时机若满足~~发动条件~~且相应的角色能执行此技能的唯一效果，则发动者*声明*此技能的技能名，并选择发动此技能的所有~~目标~~，然后其即发动了此技能，须执行此技能的唯一效果。

> 例如：太史慈须声明是对身份为主公的孙策发动【天义】还是【制霸】：
> 1、太史慈对孙策发动【天义】拼点，若未赢，孙策不能获得此次拼点的两张牌。
> 2、太史慈对孙策发动【制霸】拼点，若未赢，孙策获得此次拼点的两张牌。

## 技能的使用者
在一个有消耗的触发类技能中，**执行消耗的角色为技能的使用者**。
在一个无消耗的触发类技能中，**执行第一个效果的角色为技能的使用者**。
因此，触发类技能的拥有者未必是发动者，当然绝大多数触发类技能都是由技能拥有者来发动的。

## 角色使用技能的补充说明

`角色不能执行失去大于其体力值的点数的体力的消耗。`
> 例如：若黄盖-周泰有“创”，其不能发动【苦肉】。

> 例如：体力值为3的魏延发动【奇谋】执行消耗只能失去1、2或3点体力。

`若一个没有消耗的触发类技能的即时类效果不能执行，则不能发动此技能。`
> 例如：满宠在受到渠道为【闪电】的伤害后能展示一张手牌来发动【御策】，但没有任何效果能执行。

> 例如：未受伤的魏延-黄忠不能发动【狂骨】。

> 例如：若所有其他角色均没有牌，田丰不能发动【死谏】。


`注意：一个技能的发动者只有在此技能的发动时机与此技能的所有目标均存活，才能发动技能。`
> 例如：吕布（神）对A发动【无前】令A的防具技能无效且吕布获得【无双】。然后吕布对B使用【决斗】，在使用此【决斗】时发动【无谋】，吕布失去1点体力死亡，在此【决斗】指定目标后由于吕布已死亡，其不能发动【无双2】，B只需打出一张【杀】进行响应即可。

`角色在某时机发动技能获得/拥有一个发动时机也是该时机的新技能，此时依然处于该时机，其能发动新技能。`
> 例如：姜维在准备阶段开始时发动【志继】获得【观星】，可继续发动【观星】。

> 例如：左慈在自己的回合内杀死过至少一名角色，在回合结束前-1发动【化身2】获得【连破】，能发动【连破】。

## 锁定技
按照KayaK的说法，“锁定技”这个概念经过三国杀的多年发展，已经与最开始的定义不同了。最开始由于三国杀规则体系尚未建立，没有判断技能发动的先后顺序的标准，于是设计师打算用说明书里的“当技能的效果发生冲突时，锁定技高于一般技能”这句话来表达“当技能的时机冲突时，锁定技优先于一般技能发动”的意思。但时至今日，资深一些的玩家想必已经发现了，“锁定技”跟什么时候发动没关系（这个由发动的时机决定），跟同时机的技能的优先级也没关系（结算的原则已经解决了这个问题），跟技能之间的冲突更加没关系（锁定技除了强制性外毫无任何特权）。到了界限突破出来以后，“锁定技”这个概念本身已经没有任何意义，游戏中存在描述中没有“锁定技”但也没有“可”字的触发类技能，也存在描述中有“锁定技”但也有“可”字的触发类技能。它其实已经成为了一个标签，专供封印不带此标签的技能用。

所以此专题的标题的意义在于拨乱反正，带有“锁定技”标签的技能其实在结算优先级上是完全没有任何特权的。请务必注意下列四点：

1、状态类技能是不需要发动（即不需要使用）的，因此没有发动时机这个要素，若能产生影响则必须产生影响，这与此技能是否带有“锁定技”标签无关。

2、触发类技能于发动时机若能发动是否必须发动，与此技能是否带有“锁定技”标签无关，关键是要找是否有“可”这个字。

3、带有“锁定技”标签的触发类技能不会优先发动、提前发动或检测发动条件满足就发动。

> 例如：曹丕在场时，马谡（旧将）被杀死，在死亡时首先亮出其身份牌，如果游戏未结束，曹丕和马谡从当前回合角色开始按逆时针方向依次选择是否发动【行殇】和发动【挥泪】，最后此伤害的来源执行奖惩。

> 除了技能本身列出的发动条件外，还有一种特殊情况会使此技能不满足发动的条件：此技能受到其他已经生效的技能的效果（无论是否带有“锁定技”标签）的影响限制其发动。
> 例如：【青釭剑】和【陷阵】的效果均会限制【白银狮子1】的发动。

4、带有“锁定技”标签的触发类技能的触发类效果并非一定会执行，亦须遵循专题二中的规则。

## 效果的分类
参考状态类技能和触发类技能的定义，对技能的效果也进行类似的分类，目的是厘清效果的执行机制，从而将各种情况下各种技能的效果是否继续执行解释得更为明确。触发类技能的效果分为状态类效果（没有执行时机，若能产生影响则必须产生影响，如【鸡肋】、【智迟】等）和触发类效果（有执行时机），其中触发类效果又分为延时类效果（如【放权】、【协穆】等）和即时类效果。

## 效果的执行
判断一个效果是否需要执行的基本规则是：若一个事件开始其流程，须按此事件的规定流程进行，依次执行能执行的操作。

`注意：遇到不能执行的操作则不执行，但后续的操作能否执行依然是要进行判断后才能决定，而不是一定不能执行了。`

> 例如：B的装备区和判定区里均没有牌，只有一张手牌普【无懈可击】。A对B使用【过河拆桥】时，B使用普【无懈可击】进行响应，C对B使用的普【无懈可击】使用普【无懈可击】进行响应，此时【过河拆桥】生效，但是由于B没有任何牌，【过河拆桥】的效果不能执行，结算结束。

> 例如：未受伤的孙尚香（标）能对已受伤的一名男性角色发动【结姻】，执行该男性角色回复1点体力的效果。

> 例如：貂蝉-吕布发动【离间】令黄月英（暗置状态）-孟获对另一名角色使用【决斗】，黄月英-孟获在使用此【决斗】时声明发动【集智】，然后明置主将的武将牌，虽然此时黄月英-孟获为女性角色，但依然须执行【离间】的效果。

> 例如：A对装备【寒冰剑】的张角使用【借刀杀人】选择对B使用【杀】，邓艾使用普【无懈可击】进行响应，在失去此普【无懈可击】后-2发动【屯田1】进行判定结算，在判定结果确定前张角发动【鬼道】打出对应的实体牌是其装备区里的【寒冰剑】的牌，【寒冰剑】成为邓艾的“田”，然后邓艾又使用了一张普【无懈可击】进行响应，此时【借刀杀人】生效：
> 1、B在张角的攻击范围内，张角可选择对B使用【杀】进行响应。如果张角不对B使用【杀】，由于此时张角的装备区里没有武器牌，不能继续执行【借刀杀人】的后续效果。
> 2、B不在张角的攻击范围内，张角不能对B使用【杀】进行响应，由于此时张角的装备区里没有武器牌，不能继续执行【借刀杀人】的后续效果。

`对于操作牌堆里的X张牌来说，若牌堆里的牌数小于X，其依然能执行此操作：若（牌堆里的牌数+弃牌堆里的牌数）＜X，执行此操作即游戏以平局结束；若0＜牌堆里的牌数＜X且（牌堆里的牌数+弃牌堆里的牌数）≥X，则执行此操作前由系统将弃牌堆里的所有牌以随机顺序置于牌堆底；若牌堆里的牌数=0且弃牌堆里的牌数≥X，则在执行此操作前先洗牌。`
> 例如：诸葛亮发动【观星】需要观看牌堆顶的五张牌时，牌堆里有四张牌，弃牌堆里有四张牌，则先由系统将弃牌堆里的四张牌以随机顺序置于牌堆底，然后诸葛亮执行【观星】的效果观看牌堆顶的五张牌。

> 例如：诸葛亮发动【观星】需要观看牌堆顶的五张牌时，牌堆里有四张牌，弃牌堆里没有牌，则游戏以平局结束。

> 例如：诸葛亮发动【观星】需要观看牌堆顶的五张牌时，牌堆里有五张牌，弃牌堆里有牌，则诸葛亮执行【观星】的效果观看牌堆顶的五张牌但不需要由系统将弃牌堆里的所有牌以随机顺序置于牌堆底。

## 角色失去技能或死亡对于技能效果的影响

### 技能
#### 状态类技能
##### 状态类效果
角色失去此技能或此技能无效即此效果消失
角色死亡则此效果会消失

#### 触发类技能
##### 状态类效果
角色失去此技能，此效果不会消失，下面这种效果除外：该角色于……内拥有<武将技能>
角色的此技能无效，此效果不会消失
角色死亡，此效果不会消失。但若某一时间段是此效果存在的条件之一，且此时间段的终点时机在理论上不会再出现则此效果消失

##### 触发类效果
角色失去此技能或此技能无效也能执行此效果
角色死亡，能执行的效果必须执行，无法执行的效果则不执行

### 牌
#### 状态类效果
使用者死亡，此效果不会消失。但若某一时间段是此效果存在的条件之一，且此时间段的终点时机在理论上不会再出现则此效果消失
#### 触发类效果
使用者死亡同触发类技能的触发类效果

`拥有武将技能a的角色A失去技能a，或死亡，或暗置一张武将牌的技能中有技能a的武将牌，系统须将A的武将牌上因其发动技能a而置于此区域的牌置入弃牌堆。`
> #### 凌天翼按：
> OL为了让客户端界面更为简洁，在不影响后续游戏结算的前提下有可能弃因a技能产生的标记。

> #### 存活的角色失去武将技能的案例：
> 例如：许褚（标）发动【裸衣】后杀死蔡文姬，蔡文姬发动【断肠】，许褚失去其所有武将技能，然后许褚于此回合内因执行【杀】的效果对一名角色造成伤害时-1依然会执行【裸衣】的延时类效果。

> 例如：杨修在出牌阶段发动【鸡肋】后杀死蔡文姬，蔡文姬发动【断肠】，杨修失去其所有武将技能，但是【鸡肋】的效果不会消失。

> 例如：魏延杀死距离为1的蔡文姬，蔡文姬发动【断肠】，魏延失去其所有武将技能，在造成伤害后没有【狂骨】来发动。

> 例如：孟获在其他角色使用的【南蛮入侵】指定目标后发动【祸首2】，此【南蛮入侵】造成伤害的来源变为孟获。此【南蛮入侵】首先对蔡文姬进行结算，蔡文姬受到1点伤害死亡，发动【断肠】，孟获失去其所有武将技能：
> 1、在之后的结算过程中此【南蛮入侵】造成伤害的来源依然是孟获。
> 2、此【南蛮入侵】轮到对孟获进行结算时，对其有效。

> 例如：太史慈发动【天义】拼点，若：
> 1、赢，太史慈对蔡文姬使用第一张【杀】，蔡文姬受到1点伤害死亡，发动【断肠】，太史慈失去其所有武将技能，但是【天义】的效果不会消失，因此太史慈可使用第二张【杀】。
> 2、未赢，太史慈对蔡文姬使用【决斗】，蔡文姬受到1点伤害死亡，发动【断肠】，太史慈失去其所有武将技能，但是于当前回合内不能使用【杀】的效果不会消失。 

> 例如：蔡文姬和A（从当前回合角色吕布开始按逆时针方向排序）是吕布使用的【杀】的目标。在此【杀】指定目标后发动【无双1】，首先对蔡文姬进行结算，蔡文姬受到1点伤害死亡，吕布失去其所有武将技能，但在轮到对A进行结算时，【无双1】的效果会继续执行。

> 例如：颜良&文丑在摸牌阶段发动【双雄】，判定结果为红色，在出牌阶段杀死蔡文姬，蔡文姬发动【断肠】，颜良&文丑失去其所有武将技能，但是【双雄】的延时类效果依然能执行。

> 例如：贾诩在自己回合杀死蔡文姬，蔡文姬发动【断肠】，贾诩失去其所有武将技能，【完杀】的效果也随之消失。

> 例如：荀彧在出牌阶段对陈宫造成伤害后，陈宫发动【智迟】，然后荀彧对陈宫发动【驱虎】拼点赢后，令陈宫对蔡文姬造成1点伤害，蔡文姬死亡发动【断肠】，陈宫失去其所有武将技能，但是【智迟】的效果会继续执行。

> 例如：司马懿（神）在当前回合杀死蔡文姬，蔡文姬发动【断肠】，司马懿失去其所有武将技能，在回合结束前-2没有能发动的技能。

> #### 存活的角色失去装备技能的案例：
> 例如：均处于连环状态的司马懿和装备【藤甲】的崔琰（从当前回合角色太史慈开始按逆时针方向排序）是装备【青釭剑】的太史慈使用的火【杀】的目标。首先对司马懿进行结算，司马懿在受到1点火焰伤害后（此时【青釭剑】对司马懿的效果结束）对太史慈发动【反馈】获得其装备区里的【青釭剑】，虽然太史慈失去了【青釭剑】这个技能，但是【青釭剑】对崔琰的效果不会消失，触发连环崔琰受到1点火焰伤害。然后对崔琰进行结算，崔琰不使用【闪】进行响应，受到1点火焰伤害。

> 例如：张角对有两张牌的邓艾发动【寒冰剑】弃置其第一张牌，邓艾在失去此牌后-2发动【屯田1】进行判定结算，在判定结果确定前张角发动【鬼道】打出对应的实体牌是其装备区里的【寒冰剑】的牌，虽然此时张角已经失去其装备区里的【寒冰剑】，但是技能发动成功后必须依次执行各个能执行的效果，因此张角必须再弃置邓艾的第二张牌。

> #### 角色死亡的案例：
> 例如：贾诩发动【乱武】在结算过程中死亡，【完杀】的效果消失，在【乱武】接下去的结算过程中发生濒死事件，进行濒死结算时不会受到【完杀】的影响。

> 例如：体力为2的周瑜（神）、A处于连环状态。周瑜弃置四张不同花色的手牌并失去3点体力对自己（分配1点火焰伤害）和A（分配2点火焰伤害）发动【业炎】，进入濒死状态，进行濒死结算：
> 1、周瑜死亡，然后濒死流程结束，继续执行【业炎】的效果，A受到没有来源的2点火焰伤害，重置。
> 2、周瑜被挽救，然后濒死流程结束，继续执行【业炎】的效果，周瑜受到自己对自己造成的1点火焰伤害，重置，再次进入濒死状态，进行濒死结算，无论周瑜是否被挽救均会触发连环，A受到1点火焰伤害，重置，最后继续执行【业炎】的效果，A受到2点火焰伤害。

> 例如：夏侯惇（标）和装备【仁王盾】的A（从当前回合角色太史慈开始按逆时针方向排序）是装备【青釭剑】的太史慈使用的黑色的【杀】的目标。首先对夏侯惇进行结算，夏侯惇受到伤害后对太史慈发动【刚烈】，判定结果不为红桃，太史慈受到1点伤害死亡，但【青釭剑】的效果不会消失，A在此【杀】的使用结算开始时不能发动【仁王盾】。 